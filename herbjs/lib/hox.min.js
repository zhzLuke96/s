!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.herb=t():e.herb=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=Symbol("__IS_STATE__");t.isState=e=>e[o],t.useState=e=>{const t=Object.create(null);let n=e;function s(e){n=e}function i(){return n}return Object.defineProperties(t,{value:{enumerable:!0,set:s,get:i},val:{enumerable:!0,set:s,get:i},v:{enumerable:!0,set:s,get:i}}),t[o]=!0,r.reactive(t)},t.Stateify=e=>t.isState(e)?e:t.useState(e);const s=e=>e,i=e=>{let t=0;return n=>new Promise((r,o)=>{const s=Date.now();s-t<e?o():(t=s,r(n))})};t.useValue=(e,n=s,o=s,u=-1)=>{const c=t.useState(n(e.v)),a=i(u),l=i(u),f=t=>e.v=t,d=e=>c.v=e;return r.effect(()=>a(e.v).then(n).then(d).catch(s)),r.effect(()=>l(c.v).then(o).then(f).then(n).then(d).catch(s)),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),o=n(4),s=new WeakMap,i=new WeakMap,u=[],c=new WeakMap;function a(e,t=null){let n;return n=s.get(e),n||(i.get(e)?e:(n=new Proxy(e,r.baseHandler(t)),s.set(e,n),i.set(n,e),n))}function l(e,t){const n=c.get(e);if(void 0===n)return;const r=new Set,s=new Set;if(t){const e=n.get(t);if(!e)return;e.forEach(e=>e.computed?s.add(e):r.add(e))}const i=e=>{e.scheduler?e.scheduler(e):o.nextTick(e)};s.forEach(i),r.forEach(i)}function f(e,t={}){const n=function(e,t){const n=(...t)=>function(e,t,n){if(-1===u.indexOf(e))try{return u.push(e),t(...n)}finally{u.pop()}}(n,e,t);return n.deps=[],n.computed=t.computed,n.lazy=t.lazy,n.scheduler=t.scheduler,n.active=!1,n}(e,t);return t.lazy||n(),n}t.getToRaw=function(e){return i.get(e)||e},t.reactive=a,t.trigger=l,t.track=function(e,t){const n=u[u.length-1];if(!n)return;let r=c.get(e);void 0===r&&(r=new Map,c.set(e,r));let o=r.get(t);void 0===o&&(o=new Set,r.set(t,o)),o.has(n)||(o.add(n),n.deps.push(o))},t.effect=f,t.computed=function(e,t={}){let n,r=!0;const o=f(e,Object.assign({computed:!0,lazy:!0,scheduler(){r=!0,l(s,"value")}},t)),s={effect:o,get value(){return r&&(n=o(),r=!1),n}};return a(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(1);t.useEffect=e=>r.nextTick(()=>o.effect(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getFuncVal=(e,n=0)=>n>=20?e:e instanceof Function?t.getFuncVal(e(),n+1):e,t.GetValue=function e(n){return n instanceof Function?e(t.getFuncVal(n)):"object"!=typeof n?n:(n=n,r.isState(n)?e([n.value,n.val,n.v][0]):n)};t.isDef=(e,...t)=>(Array.isArray(e)||(e=[e]),!!(e=[...e,...t]).length&&e.reduce((e,t)=>e&&(e=>null!=e)(t),!0));const o=e=>{for(let t,n,r=e.length;r;t=~~(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},s=e=>o(e.split("")).join("");t.UniqueId=(e="_",t=6,n=3)=>o(Array.from(`${s(parseInt(performance.now().toString().replace(".",""),10).toString(16))}${s(Date.now().toString(16))}${s(Math.random().toString(16).slice(2))}`.matchAll(new RegExp(`.{${t}}`,"g")))).slice(0,n).join(e),t.throttle=(e,t=500)=>{let n=!0;return(...r)=>{n&&(n=!1,setTimeout(()=>{e.apply(null,r),n=!0},t))}},t.debounce=(e,t=500)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,r)},t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new WeakSet,o=Promise&&Promise.resolve();let s;s=o?e=>o.then(()=>e()):e=>(window.setImmediate||window.setTimeout)(t=>e(),0),t.nextTick=e=>{if(!r.has(e))return r.add(e),s(e).then(()=>r.delete(e))};const i=new WeakMap;t.nextTickWithKey=(e,t)=>{i.has(e)||s(()=>(e=>{s(()=>{i.get(e)(),i.delete(e)})})(e)),i.set(e,t)}},function(e,t,n){"use strict";function r(e){return null!=e}function o(e){return null==e}Object.defineProperty(t,"__esModule",{value:!0}),t.__DEV__=!1,t.__IE__DEV__=!1,t.isDOM="function"==typeof Node?e=>e instanceof Node:e=>e&&"object"==typeof e&&e.nodeType&&"string"==typeof e.nodeName,t.exclude=function(e,t){(t=t||[]).push("constructor","__proto__");const n=Object.create(null);for(const r in e){if(-1!==t.indexOf(r))continue;const o=e[r];n[r]=o}const r=Object.getPrototypeOf(e);return Object.getOwnPropertyNames(r).forEach(r=>{if(-1!==t.indexOf(r))return;const o=e[r];n[r]=o}),n},t.ctxCall=function(e){return new Function("ctx","with(ctx){return ("+e+")}")},t.nodeToFragment=function(e){const t=document.createDocumentFragment();let n;for(;n=e.firstChild,n;)t.appendChild(n),n.$lastParentNode=e;return t},t.isElementNode=function(e){return 1===e.nodeType},t.isTextNode=function(e){return 3===e.nodeType},t.objectHash=function(e){const t=JSON.stringify(e);let n=0;for(let e=0;e<t.length;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n},t.likeHash=function(e,t,n=.8){const r=e+"",o=t+"";let s=(e+"").length;return s=Math.ceil(n*s),r.slice(0,s)===o.slice(0,s)},t.isDef=r,t.isUnDef=o,t.isDefAll=function(e,...t){return Array.isArray(e)||(e=[e]),Array.isArray(t)&&(e=e.concat(t)),!!e.length&&e.reduce((e,t)=>e&&r(t),!0)},t.isUnDefAll=function(e,...t){return Array.isArray(e)||(e=[e]),Array.isArray(t)&&(e=e.concat(t)),!!e.length&&e.reduce((e,t)=>e&&o(t),!0)};const s=navigator.userAgent,i=s.indexOf("compatible")>-1&&s.indexOf("MSIE")>-1;t.isEdge=s.indexOf("Edge")>-1&&!i,t.randID=function(){return Math.ceil(Math.random()*Number.MAX_SAFE_INTEGER)};const u=Object.prototype.toString;t.isType=function(e){return t=>u.call(t)===e};t.UniqueId=()=>"xxxxxxxx-xxxx".replace(/[xy]/g,e=>(16*Math.random()|0).toString(16)),t.flatten=function e(t){return t.reduce((t,n)=>t.concat(Array.isArray(n)?e(n):n),[])},t.FuncType=e=>e?e.constructor.name:"",t.isAsyncFunction=e=>"AsyncFunction"===t.FuncType(e),t.isGeneratorFunction=e=>"GeneratorFunction"===t.FuncType(e),t.isAsyncGeneratorFunction=e=>"AsyncGeneratorFunction"===t.FuncType(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEventListener=(e,t,n)=>r=>r.addEventListener(e,t,n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=e=>e&&e.toString&&e.toString()||"",s=/([^ :]+?) ?: ?([^;]+?)(;|$)/g;t.css=(e,...t)=>{let n="";for(const r in e)e.hasOwnProperty(r)&&(n+=`${o(e[r])}${o(t[r])}`);const r={};for(const e of n.matchAll(s)){const[t,n,o]=e;r[n]=o}return r};const i=(e,t)=>{const n=[];let r="";for(const o in e)if(e.hasOwnProperty(o)){const s=e[o];if("object"==typeof s){const e=o.split(",").map(e=>e.includes("&")?e.replace("&",t):`${t} ${e}`).join(",");n.push(i(s,e))}else{if("content"===o){r+=`${o}:'${s}';`;continue}r+=`${o}:${s};`}}return`${t}{${r}}${n.join("")}`},u=new Map;t.useStyle=(e={},t=!0)=>{let n="",o=!1;const s=(c=e,0===Object.keys(c).length);var c;if(!s&&([n,o]=(e=>{const t=JSON.stringify(e);if(u.has(t))return[u.get(t),!0];const n="style_"+r.UniqueId();return u.set(t,n),[n,!1]})(e),!o)){const t=i(e,`.${n}`),r=document.createElement("style");r.type="text/css",r.innerHTML=t,document.head.appendChild(r)}let a=null;return{className:n,styleRef:e=>{s||(a=e,t&&e.classList.add(n))},toggle(){a?a.classList.toggle(n):console.warn("ref is not set.",n)},add(){a?a.classList.add(n):console.warn("ref is not set.",n)},remove(){a?a.classList.remove(n):console.warn("ref is not set.",n)}}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.baseHandler=e=>({get(e,t){const n=Reflect.get(e,t);return r.track(e,t),null!==(o=n)&&"object"==typeof o?r.reactive(n,{target:e,key:t}):n;var o},set(t,n,o,s){const i=t[n],u=r.getToRaw(o),c=((e,t)=>Object.prototype.hasOwnProperty.call(e,t))(t,n),a=Reflect.set(t,n,o,s);return c?u!==i&&(e?r.trigger(r.getToRaw(e.target),e.key):r.trigger(r.getToRaw(t),n)):e?r.trigger(r.getToRaw(e.target),e.key):r.trigger(r.getToRaw(t),n),a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.useWindowSize=()=>{const e=r.reactive({w:window.innerWidth,h:window.innerHeight});return window.addEventListener("resize",({target:t})=>{const{innerWidth:n,innerHeight:r}=t;n!==e.w&&(e.w=n),r!==e.h&&(e.h=r)}),{Size:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.useEffect=r.useEffect;var o=n(0);t.useState=o.useState,t.useValue=o.useValue,t.Stateify=o.Stateify;var s=n(15);t.useBoolean=s.useBoolean;var i=n(16);t.useLocalState=i.useLocalState,t.useSessionState=i.useSessionState;var u=n(17);t.useSize=u.useSize;var c=n(18);t.useFullScreen=c.useFullScreen;var a=n(6);t.useEventListener=a.useEventListener;var l=n(19);t.useClickOutside=l.useClickOutside;var f=n(20);t.useHover=f.useHover;var d=n(21);t.useVisible=d.useVisible;var v=n(22);t.useRequest=v.useRequest;var p=n(12);t.useMotion=p.useMotion;var y=n(7);t.useStyle=y.useStyle,t.css=y.css;var h=n(23);t.useMouse=h.useMouse;var m=n(10);t.useWindowSize=m.useWindowSize;var g=n(24);t.useResponsive=g.useResponsive;var w=n(25);t.useStateMachine=w.useStateMachine;var b=n(26);t.useEmitter=b.useEmitter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=cancelAnimationFrame,s=e=>isNaN(e)?e:`${e}ms`,i={x:e=>({transform:` translateX(${e}) `}),y:e=>({transform:` translateY(${e}) `}),duration:e=>({"transition-duration":s(e)}),delay:e=>({"transition-delay":s(e)}),ease:e=>({"transition-timing-function":s(e)})},u=(e,t)=>{const n=Object.keys(e).filter(e=>-1===["duration","delay","ease"].indexOf(e)).reduce((t,n)=>{let r={};return r=n in i?i[n](e[n]):{[n]:e[n]},r.transform&&(r.transform=(t.transform||"")+" "+r.transform),Object.assign(Object.assign({},t),r)},{}),r=Object.keys(n);return`.${t}{${`transition-duration: ${Math.max(e.duration||1,50)}ms !important;`}${e.delay?`transition-delay: ${e.delay}ms !important;`:""}${e.ease?`transition-timing-function: ${e.ease} !important;`:""}${r.length?`transition-property: ${r.join(",")} !important;`:""}${(e=>{let t="";for(const n in e)if(e.hasOwnProperty(n)){t+=`${n}:${e[n]} !important;`}return t})(n)}}`},c=new Map;t.useMotion=e=>{const t=e.map((e,t)=>(e=>{const t=JSON.stringify(e);if(c.has(t))return[c.get(t),!0];const n="motion_"+r.UniqueId();return c.set(t,n),[n,!1]})(e));for(const n of t){const[r,o]=n;if(!o){const n=document.createElement("style");n.type="text/css",n.innerHTML=e.map((e,n)=>u(e,t[n][0])).join(""),document.head.appendChild(n)}}let n=null,s=null;function i(){o(s),t.forEach(([e])=>n&&n.classList.remove(e))}return{motionRef(e){n=e},start(){e&&0!==e.length&&(i(),function r(o){if(!n)return;if(o===e.length)return void i();const[u]=t[o],{duration:c=1,delay:a=1}=e[o];n.classList.add(u),s=((e,t)=>{const n=performance.now();let r=n,o=null;const s=()=>{o=requestAnimationFrame(s),r=performance.now(),r-n>=t&&(e(),cancelAnimationFrame(o))};return requestAnimationFrame(s)})(()=>{n.classList.remove(u),r(o+1)},Math.max(50,c+a))}(0))},stop:i}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.useBoolean=(e=!1)=>{const t=r.useState(e);return{state:t,toggle:()=>t.v=!t.v,setTrue:()=>t.v=!0,setFalse:()=>t.v=!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(0);t.useSessionState=(e,t)=>{const n=sessionStorage.getItem(e);n&&(t=n);const s=o.useState(t);return r.useEffect(()=>{sessionStorage.setItem(e,s.v)}),s},t.useLocalState=(e,t)=>{const n=localStorage.getItem(e);n&&(t=n);const s=o.useState(t);return r.useEffect(()=>{localStorage.setItem(e,s.v)}),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t.useSize=()=>{const e=r.reactive({width:0,height:0});return{size:e,sizeRef(t){window.ResizeObserver?new window.ResizeObserver(t=>{const n=~~t[0].contentRect.width,r=~~t[0].contentRect.height;n!==e.width&&(e.width=n),r!==e.height&&(e.height=r)}).observe(t):window.MutationObserver&&new o(n=>{let{width:r,height:o}=t.getBoundingClientRect();r=~~r,o=~~o,r!==e.width&&(e.width=r),o!==e.height&&(e.height=o)}).observe(t,{attributes:!0,childList:!0,subtree:!0})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);let o=e=>{e.requestFullscreen?(e.requestFullscreen(),o=e=>e.requestFullscreen()):e.msRequestFullscreen?(e.msRequestFullscreen(),o=e=>e.msRequestFullscreen()):e.mozRequestFullScreen?(e.mozRequestFullScreen(),o=e=>e.mozRequestFullScreen()):e.webkitRequestFullscreen&&(e.webkitRequestFullscreen(),o=e=>e.webkitRequestFullscreen())},s=()=>{s=document.exitFullscreen||document.msExitFullscreen||document.mozExitFullscreen||document.webkitExitFullscreen,s()},i=()=>(document.isFullScreen&&(i=()=>document.isFullscreen),document.webkitIsFullscreen&&(i=()=>document.webkitFullscreen),document.mozIzFullScreen&&(i=()=>document.mozIzFullScreen),i());t.useFullScreen=()=>{let e=null;const t=r.useState(!1);function n(){t.v||(o(e||document),t.v=!0)}function u(){t.v&&(s(),t.v=!1)}return{ref(t){e=t},isFullscreen:t,setFull:n,exitFull:u,toggleFull:function(){i()?u():n()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClickOutside=e=>{let t=null;return document.addEventListener("click",n=>{t&&(t.contains(n.target)||e(n))}),{ref(e){t=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(0);t.useHover=()=>{const e=o.useState(!1),t=r.useEventListener("mouseover",()=>e.v=!0),n=r.useEventListener("mouseout",()=>e.v=!1);return{isHovering:()=>e.v,hoverRef(e){t(e),n(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(0);t.useVisible=()=>{const e=o.useState(!0);return{isVisibility:()=>e.v,visibleRef(t){r.nextTick(()=>{new IntersectionObserver(t=>{t[0].intersectionRatio<=0?e.v&&(e.v=!1):e.v||(e.v=!0)}).observe(t)})}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function u(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),s=n(0),i=window.requestIdleCallback||window.requestAnimationFrame,u={};t.useRequest=(e,t=fetch,n={})=>{null===t&&(t=fetch);const c=o.reactive({data:null}),a=s.useState(null),l={resp:c,error:a,revalidate:()=>{}};let f=[];return e instanceof Function?(l.revalidate=()=>{try{f=(e=>{const t=e();return Array.isArray(t)?t:[t]})(e)}catch(e){return c.data=null,void(a.v=e)}d(...f)},o.effect(()=>{l.revalidate()})):(f=[e],l.revalidate=()=>d(f),d(f)),isNaN(n.pollingInterval)||((e,t)=>{const n=Date.now;let r=n(),o=r,s=null;const u=()=>{s=i(u),o=n(),o-r>=t&&(r=n(),o=r,e())};s=i(u)})(()=>{d(...f)},Number(n.pollingInterval)),l;function d(...e){return r(this,void 0,void 0,(function*(){const r=e.reduce((e,t)=>e+String(t),"");if(n.dedupe&&u[r])c.data=yield u[r];else{try{u[r]=t(...e),c.data=yield u[r]}catch(e){return a.v=e,void delete u[r]}delete u[r],a.v=null}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(6),s=n(0);t.useMouse=()=>{const e=s.useState({screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0});return o.useEventListener("mousemove",r.throttle(t=>{e.v={screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}},33.33))(window),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(3),s=n(0),i=n(10),u=(e,t)=>o.isDef(e.w,e.h,t.w,t.h)?e.w-t.w+e.h-t.h:o.isDef(e.w,t.w)?e.w-t.w:o.isDef(e.h,t.h)?e.h-t.h:0;t.useResponsive=e=>{const t=s.useState("null"),{Size:n}=i.useWindowSize(),o=Object.keys(e).map(t=>Object.assign({name:t},e[t])).sort((e,t)=>-u({w:e.w,h:e.h},{w:t.w,h:t.h}));return r.effect(()=>{if(0===o.length)return;let e=o[0].name;for(const t of o){const{name:r,w:o,h:s}=t;if(!(u({w:o,h:s},n)>=0))break;e=r}t.v=e}),{currentMode:t}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),s=n(2);t.useStateMachine=e=>{const{initial:t}=e,n=r(e,["initial"]),i=o.reactive({state:t,value:null}),u={},c={},a={};for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];if("string"==typeof t)continue;const{value:o}=t,s=r(t,["value"]);u[e]=Object.values(s),c[e]=o;for(const e in s)if(s.hasOwnProperty(e)){const t=s[e];a[e]=()=>i.state=t}}const l=o.reactive(Object.assign({},a));return s.useEffect(()=>{for(const e in u)if(u.hasOwnProperty(e)){const t=u[e];l[`to${e.slice(0,1).toUpperCase()}${e.slice(1)}`]=t.includes(i.state)?()=>i.state=e:null}i.value=c[i.state]}),[i,l]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(0);t.useEmitter=()=>{const e=o.useState(0);return{count:e,emit(){e.v+=1},effect(t){r.useEffect(()=>{e.v,t()})}}}}])}));